{
  "description": "Desarrollo guiado para Genius Industries con reglas especÃ­ficas de arquitectura y organizaciÃ³n",
  "rules": [
    {
      "title": "ğŸ“¦ Estructura del Proyecto",
      "content": "Backend: `api/routes` (endpoints por dominio), `services` (lÃ³gica de negocio), `models.py` (modelos Pydantic), `core` (configuraciÃ³n). Frontend: `client` (API clients por dominio), `components` (UI por dominio), `routes` (pÃ¡ginas por dominio), `hooks` (hooks por dominio), `theme` (estilos Chakra UI), `utils` (utilidades por dominio)."
    },
    {
      "title": "ğŸ§© Flujo de ComunicaciÃ³n",
      "content": "Siempre seguir Frontend â†’ Backend â†’ Nhost. Nhost â†’ Backend â†’ Frontend. No escribir directamente en Nhost desde frontend excepto para Realtime. Usar la arquitectura de 3 capas estrictamente."
    },
    {
      "title": "ğŸ› ï¸ Backend - TecnologÃ­as",
      "content": "Usar solo Pydantic (âŒ NO ORM como SQLAlchemy/Tortoise). FastAPI para endpoints. Async/await para operaciones asÃ­ncronas. ValidaciÃ³n con Pydantic. Logging apropiado. Manejo consistente de errores. GestiÃ³n de dependencias con `uv`."
    },
    {
      "title": "ğŸ¨ Frontend - TecnologÃ­as", 
      "content": "React con TypeScript. Chakra UI para estilos (mantener theme/ y theme.tsx). React Query para estado y cachÃ©. Lazy loading para rutas. Error boundaries. Componentes atÃ³micos. GestiÃ³n de dependencias con `npm`."
    },
    {
      "title": "ğŸ‘¥ Sistema de Roles",
      "content": "Roles: CEO (acceso total), Gerente (gestiÃ³n sucursal), Supervisor (gestiÃ³n agentes), HR (gestiÃ³n empleados), Support (atenciÃ³n cliente), Agentes (propiedades/clientes). Implementar guardias de ruta, middleware de roles, validaciÃ³n de permisos en endpoints, UI adaptativa por rol."
    },
    {
      "title": "ğŸ“ OrganizaciÃ³n por Dominio",
      "content": "Cada mÃ³dulo debe tener su propia carpeta con todos sus archivos relacionados. Backend: routes/[dominio].py, services/[dominio].py. Frontend: components/[Dominio]/, hooks/use[Dominio].ts, client/[dominio]Api.ts. Mantener separaciÃ³n de responsabilidades clara."
    },
    {
      "title": "ğŸ§¼ Buenas PrÃ¡cticas",
      "content": "CÃ³digo limpio y modular. Nombres en inglÃ©s. No duplicar lÃ³gica entre capas. No mezclar UI con lÃ³gica de negocio. Documentar funciones pÃºblicas. Usar TypeScript estricto. Implementar error handling. Mantener estructura consistente."
    },
    {
      "title": "âš¡ Comandos de Desarrollo",
      "content": "Backend: `uv add [package]` (instalar), `uv sync` (sincronizar), `.venv\\Scripts\\activate` (activar). Frontend: `npm install` (instalar), `npm run dev` (desarrollo), `npm run build` (producciÃ³n). Usar estos comandos exclusivamente."
    },
    {
      "title": "ğŸš« Prohibiciones Estrictas",
      "content": "âŒ NO usar ORMs en backend. âŒ NO acceder directamente a Nhost desde frontend (excepto Realtime). âŒ NO crear carpetas fuera del estÃ¡ndar. âŒ NO mezclar capas (UI/lÃ³gica/datos). âŒ NO duplicar cÃ³digo entre mÃ³dulos. âŒ NO ignorar tipado TypeScript. âŒ NO omitir manejo de errores."
    },
    {
      "title": "ğŸ”’ Seguridad y Permisos",
      "content": "Implementar middleware de autenticaciÃ³n. Validar permisos en cada endpoint. Configurar polÃ­ticas RLS por rol. AuditorÃ­a de acciones. Logging de cambios. Guardias de ruta en frontend. Componentes condicionales por rol. ValidaciÃ³n de acciones por rol."
    }
  ],
  "additional_context": {
    "project_type": "Full-stack real estate management platform",
    "auth_provider": "Clerk",
    "database": "PostgreSQL + Nhost",
    "styling": "Chakra UI",
    "state_management": "React Query",
    "build_tools": {
      "backend": "uv (Python package manager)",
      "frontend": "npm + Vite"
    },
    "key_domains": [
      "authentication",
      "properties", 
      "clients",
      "transactions",
      "analytics",
      "legal",
      "hr",
      "support"
    ]
  }
}